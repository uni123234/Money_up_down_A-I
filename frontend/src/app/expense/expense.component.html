<base href="/expense/" />
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<section class="gradient-custom d-flex justify-content-center align-items-center vh-100">
  <div class="col">
    <div class="card border mt-4">
      <div class="card-header bg-dark text-white border-bottom">
        <h5 class="card-title">Ваша таблиця</h5>
      </div>
      <div class="card-body bg-dark">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <button class="btn btn-primary" onclick="prevMonth()"><i class="fa fa-chevron-left"></i></button>
          <h4 class="text-white mb-0" id="currentMonthDisplay"></h4>
          <button class="btn btn-primary" onclick="nextMonth()"><i class="fa fa-chevron-right"></i></button>
        </div>
        <div class="table-responsive">
          <table class="table table-condensed table-striped">
            <thead>
              <tr>
                <th>Ім'я</th>
                <th>Дата</th>
                <th>Сума</th>
                <th>Категорія</th>
                <th>Опис</th>
              </tr>
            </thead>
            <tbody id="expenseTableBody">
              <tr data-toggle="collapse" data-target="#demo1" class="accordion-toggle">
                <td>Carlos</td>
                <td>Fri, 17 May 2024 00:00:00 GMT</td>
                <td>115</td>
                <td>Їжа</td>
                <td>Mathias</td>
              </tr>
              <tr>
                <td colspan="5" class="hiddenRow">
                  <div class="accordian-body collapse" id="demo1">
                    <table class="table table-dark table-striped">
                      <thead class="thead-light">
                        <tr>
                          <th>Дата</th>
                          <th>Сума</th>
                          <th>Категорія</th>
                          <th>Опис</th>
                        </tr>
                      </thead>
                      <tbody class="customtable">
                        <tr *ngFor="let item of dataList">
                          <td>{{ item.date }}</td>
                          <td>{{ item.amount }}</td>
                          <td>{{ item.category }}</td>
                          <td>{{ item.description }}</td>
                          <td><button class="edit-btn" (click)="editExpense(item)" data-toggle="modal" data-target="#editModal"><i class="fa fa-pencil"></i></button></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</section>
<div class="modal fade" #editModal id="editModal" tabindex="-1" role="dialog" aria-labelledby="editModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="editModalLabel">Редагувати витрати</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form #signupForm="ngForm" (ngSubmit)="onSubmit(signupForm)">
          <div class="form-group">
            <label for="editDate">Дата</label>
            <input type="date" class="form-control" id="editDate" [(ngModel)]="editObj.date" name="date" required>
          </div>
          <div class="form-group">
            <label for="editAmount">Сума</label>
            <input type="number" class="form-control" id="editAmount" [(ngModel)]="editObj.amount" name="amount" required>
          </div>
          <div class="form-group">
            <label for="editCategory">Категорія</label>
            <input type="text" class="form-control" id="editCategory" [(ngModel)]="editObj.category" name="category" required>
          </div>
          <div class="form-group">
            <label for="editDescription">Опис</label>
            <input type="text" class="form-control" id="editDescription" [(ngModel)]="editObj.description" name="description" required>
          </div>
          <button type="submit" class="btn btn-primary">Зберегти зміни</button>
        </form>
      </div>
    </div>
  </div>
</div>

<router-outlet></router-outlet>
